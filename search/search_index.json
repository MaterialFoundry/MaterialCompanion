{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Material Companion is a companion app for the Material modules by Material Foundry:</p> <ul> <li>Material Plane</li> <li>Material Deck</li> <li>Material Keys</li> </ul> <p>The main purpose of Material Companion is to act as a bridge between your Foundry client and the hardware you want to connect to Foundry.</p> <p>For Material Plane, this app can bridge the connection between the sensor and Foundry, since in some situations it is not possible to connect the sensor directly to the Foundry client (due to security restrictions). Additionally, Material Companion allows some configuration for the sensor and other Material Plane hardware, and it can be used to update the hardware.</p> <p>Material Deck requires this app to connect a Stream Deck to the Foundry client. Material Companion is necessary because the Stream Deck application and Foundry client are otherwise not able to communicate (they can only run websocket clients, so a separate server is necessary).</p> <p>For Material Keys, this app handles all MIDI communication and device management.</p>"},{"location":"#installation","title":"Installation","text":"<p>Installation instructions here</p>"},{"location":"#usage","title":"Usage","text":"<p> The app is divided into several tabs:</p> <ul> <li>Overview - Gives an overview of the current Material Companion status</li> <li>Material Plane - Allows the configuration of the Material Plane hardware</li> <li>Material Deck - Display data regarding Material Deck, and determine which Stream Decks are allowed to connect</li> <li>Material Keys - Configure which device connects to the Material Keys module</li> <li>Settings - For configuring Material Companion</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>You can either run Material Companion from one of the prebuilt packages, or build the application yourself.</p>"},{"location":"installation/#installingrunning-material-companion","title":"Installing/Running Material Companion:","text":"<ol> <li>Download the latest version from the releases page:<ul> <li>Windows: MaterialCompanion-win32-x64.zip</li> <li>MacOS (Intel): MaterialCompanion-macos-x64.zip or MaterialCompanion-macos-x64.dmg</li> <li>MacOS (Arm): MaterialCompanion-macos-arm64.zip or MaterialCompanion-macos-arm64.dmg</li> <li>Linux: MaterialCompanion-linux-x64.zip</li> </ul> </li> <li>Extract the file (if it's a .zip)</li> <li>Run <code>Material Companion.exe</code> (Windows) or <code>Material Companion</code> (MacOS/Linux) from within the folder, or open the .dmg file and drag <code>Material Companion</code> to the applications folder (MacOS)</li> <li>Material Plane users that want to use Material Compaion to update the Material Plane hardware you will need to install Python v3.</li> </ol> <p>Some notes for MacOS users On MacOS you will probably get a message that it can't be opened because the developer cannot be verified, or you might get an error stating <code>\u201cMaterial Companion\u201d is damaged and can\u2019t be opened. You should move it to the Trash</code>. </p> <p>To solve the first issue (unverified developer):</p> <ol> <li>Open 'System Preferences'</li> <li>Navigate to 'Security &amp; Privacy</li> <li>Unlock the page using the lock in the lower left</li> <li>There should be a message: `\"Material Companion\" was blocked from use because it is not from an identified developer', press 'Open Anyway' to the right of that message</li> <li>You might get another message to confirm that you want to open it: click 'Open'</li> </ol> <p>To solve the second issue (\"Material Companion\" is damaged):</p> <ol> <li>Open a Terminal window</li> <li>Run the following command: <code>xattr -c \"/Applications/Material Companion.app\"</code>     Please note that if Material Companion is not located in the Applications folder you will have to modify the above command so it points to the correct location.</li> </ol> <p>Connection issues with some browsers Some browsers, such as Brave, have a built-in adblocker that may prevent Foundry from connecting to Material Companion. If you run into connection issues, try disabling the adblocker (in brave: press the lion icon, and set the shields to 'down'), or use another browser like Chrome or Firefox.</p>"},{"location":"installation/#runningbuilding-from-the-source","title":"Running/Building from the source","text":"<p>If you want to make modifications, or you can't get the prebuild apps to work, you can try running or building the app from the source.</p> <p>Prerequisites You will need to install/configure the following applications:</p> <ul> <li> <p>Windows</p> <ul> <li>node.js</li> <li>Python v3</li> <li>Microsoft Visual C++</li> </ul> </li> <li> <p>MacOS</p> <ul> <li>node.js</li> <li>Python v3</li> <li>Xcode or Command Line Tools</li> </ul> </li> <li> <p>Linux</p> <ul> <li>node.js</li> <li>Python v3</li> <li>A C++ compiler</li> <li>Installed and configured ALSA</li> <li>The libasound2-dev and build-essential packages</li> </ul> </li> </ul> <p>Running from the source</p> <ol> <li>Download and unzip the source code</li> <li>Open a termial window and navigate to the Material Companion folder</li> <li>Run <code>npm update</code> and then <code>npm install</code> to update existing dependencies and install new dependencies</li> <li>Run <code>npm start</code> to start the app</li> </ol> <p>Building from the source</p> <ol> <li>Make sure the app runs using the instructions above</li> <li>Run <code>npm run package</code> to build the app</li> <li>The apps should be built in <code>/out/Material Companion-[platform]</code></li> </ol>"},{"location":"materialDeck/","title":"Material Deck","text":"<p> The Material Deck tab of Material Companion is divided into 3 sections.</p>"},{"location":"materialDeck/#connection-status","title":"Connection Status","text":"<p>At the top you can see if Material Companion has connected to the Stream Deck app and the Foundry module (see the Material Deck documentation for info on how to configure the module).</p>"},{"location":"materialDeck/#connected-foundry-clients","title":"Connected Foundry Clients","text":"<p>The middle section displays the connected Foundry clients (users) and what Stream Deck they are connected to. Green means the Stream Deck is connected to that client, red means it is not. By clicking on them you can change this.</p>"},{"location":"materialDeck/#connected-stream-decks","title":"Connected Stream Decks","text":"<p>The bottom section lists the Stream Decks connected to the computer.</p>"},{"location":"materialKeys/","title":"Material Keys","text":"<p> Material Companion handles all MIDI communication and device management for Material Keys. In this tab you can configure how this is handled.</p>"},{"location":"materialKeys/#connection-status","title":"Connection Status","text":"<p>At the top you can see if Material Companion has connected to a MIDI device and the Foundry module (see the Material Keys documentation for info on how to configure the module).</p>"},{"location":"materialKeys/#settings","title":"Settings","text":"<p>You can find the following settings:</p> <ul> <li>Device: Sets the device to use, see here for the supported devices</li> <li>Scan for MIDI Devices on Start: If ticked, Material Companion will scan for MIDI devices on start</li> <li>Continuous Scan: If ticked, Material Companion will continuously scan for changes in MIDI devices</li> <li>Connection Event: This sets when Material Companion will attempt to connect to the selected device, with the following options:<ul> <li>When Module is Connected: This will let Material Companion try to connect to the device as soon as Material Companion is connected to the Material Keys module</li> <li>When Material Companion Starts: This will let Material Companion try to connect to the device as soon as Material Companion starts</li> <li>Manually: This will only let Material Companion try to connect when you press the 'Connect' button</li> </ul> </li> <li>Scan for MIDI Devices: Manually scan for MIDI devices</li> <li>Connect: Connect to the selected MIDI device</li> </ul>"},{"location":"materialKeys/#midi-devices","title":"MIDI Devices","text":"<p>Any detected MIDI devices are shown here. You can click on any of them to select them, which will turn them green. You have to select one input and one output for Material Keys to function.</p> <p>When Material Keys tries to connect to a device, it will connect to the one selected here.</p>"},{"location":"materialPlane/","title":"Material Plane","text":"<p>The Material Plane tab allows you to update and configure the Material Plane hardware and use Material Companion to connect the Foundry module to the sensor. This last option is required if your Foundry server is secured.</p>"},{"location":"materialPlane/#dependencies","title":"Dependencies","text":"<p>Material Companion requires Python 3.10, pip and pymcuprog to write to and read from the Material Plane hardware. You will have to install Python yourself, but Material Companion will attempt to install pip and pymcuprog. If that fails, follow the installation instructions in the hyperlinks above to install them manually.</p> <p>Linux Users The USB drivers for the dock do not work properly for some Linux distributions (such as Ubuntu 22.04). When calling <code>dmesg | grep tty</code> you might get a message like <code>ch341-uart converter now disconnected from ttyUSB0</code>, because the USB interface is claimed by brltty. Most users will not need brltty, so you can probably uninstall it: <code>sudo apt remove brltty</code>. You might also run into permission issues when Material Companion is trying to access a USB port: <code>Permission denied, cannot open /dev/ttyUSB0</code>. The easiest solution is to run <code>sudo chmod 666 /dev/ttyUSB0</code>.</p>"},{"location":"materialPlane/#overview","title":"Overview","text":"<p>There are 4 tabs:</p> <ul> <li>Connection - For configuring the connection between Foundry and the sensor</li> <li>Sensor - For updating and configuring the sensor</li> <li>Base - For updating and configuring the base</li> <li>Pen - For updating and configuring the pen</li> </ul>"},{"location":"materialPlane/#connection","title":"Connection","text":"<p> The connection tab is used to display and configure the connection between the Foundry module, sensor and Material Companion. This is used if a secured Foundry server is used or if the sensor can't connect directly to the Foundry client for another reason.</p> <p>For instruction on how to configure Material Plane to do this, refer to the Material Plane documentation.</p> <p>Top Section In the top section of the 'Connection' tab you can see if Material Companion has connected to the Material Plane module or the sensor.</p> <p>Bottom Section In the bottom section of the 'Connection' tab you can find 2 settings:</p> <ul> <li>Connection Event: This sets when Material Companion will attempt to connect to the sensor, with the following options:<ul> <li>When Module is Connected: This will let Material Companion try to connect to the sensor as soon as Material Companion is connected to the Material Plane module</li> <li>When Material Companion Starts: This will let Material Companion try to connect to the sensor as soon as Material Companion starts</li> <li>Manual: This will only let Material Companion try to connect when you press the 'Connect' button in the 'Sensor IP Address' setting</li> </ul> </li> <li>Sensor IP Address: The IP address of the sensor. By default this is <code>materialsensor.local:3000</code> but this can be configured on the sensor's webserver. Alternatively you can use the actual IP address which you can find by connecting the sensor to your computer using a USB cable and read the data in the Sensor tab (see below for more info).<ul> <li>Connect/Disconnect Button: With this button you can force Material Companion to try to make a connection to the sensor</li> </ul> </li> </ul>"},{"location":"materialPlane/#sensor","title":"Sensor","text":"<p>The sensor tab can be used to get a quick overview of important configuration settings for the Material Plane sensor. It also allows the sensor to connect to a WiFi network, and to update the firmware or webserver.</p> <p>Reading the Sensor Configuration</p> <ol> <li>At the top, select the sensor USB port. The production sensor should show up as <code>COM## (Sensor)</code>. <ul> <li>If it shows up as <code>COM## (Sensor - Update)</code>, reset the sensor using the reset button, making sure the <code>boot</code> button is not pressed. </li> <li>If the correct USB port does not show up, try refreshing the USB port list.</li> </ul> </li> <li>You can then press the <code>Read</code> button, and after a few seconds all the configuration fields should be filled.</li> </ol> <p>Connecting to a WiFi Access Point See here.</p> <p>Updating the Sensor Firmware and/or Webserver See here.</p>"},{"location":"materialPlane/#base","title":"Base","text":"<p> The base tab can be used to view and edit the configuration settings and to update the base firmware. Please note that when reading or writing to the base, you need to use the dock slot with 3 pins and you cannot have a pen connected to the dock.</p> <p>Reading and Writing the Base Configuration See here.</p> <p>Updating the Base Firmware See here.</p>"},{"location":"materialPlane/#pen","title":"Pen","text":"<p> The pen tab can be used to view and edit the configuration settings and to update the pen firmware. Please note that when reading or writing to the pen, you cannot have a base connected to base slot with 3 pins on the dock.</p> <p>Reading and Writing the Pen Configuration See here.</p> <p>Updating the Pen Firmware See here.</p>"},{"location":"overview/","title":"Overview","text":"<p>The overview tab has 2 sections:</p>"},{"location":"overview/#top-section","title":"Top Section","text":"<p>The top section displays the Material Companion address. There are 2 variations, the first (<code>localhost:3001</code>) should be used in 99% of cases when configuring a module. The second 'Alternative' address is the actual IP address and port which can be used if Material Companion is running on a different computer than the browser you use to access Foundry. This will only work for computers on the same local network.</p> <p>If your Foundry server is secure, you must use the 'normal' address.</p>"},{"location":"overview/#connection-status","title":"Connection Status","text":"<p>The connection status section displays the connection status for all supported modules. It displays if the module ('Foundry' column) and the relevant device ('Device' column) are connected. For Material Plane the device is the sensor, for Material Deck it is a Stream Deck, for Material Keys it is a Launchpad.</p>"},{"location":"settings/","title":"Settings","text":"<p>In the settings tab you can configure some settings for Material Companion:</p> <ul> <li>Hide Material Plane: Hides the Material Plane tab</li> <li>Hide Material Deck: Hides the Material Deck tab</li> <li>Hide Material Keys: Hides the Material Keys tab</li> <li>Language: Sets the language of Material Companion</li> <li>Websocket Port: Sets the websocket port Material Companion will connect to</li> <li>Run in Tray: Will run Material Companion in the tray if enabled</li> </ul> <p>After making any changes you have to press <code>Save</code> to save the settings. To reset the settings back to their default values, press <code>Reset</code>.</p>"}]}